# This is the LSF Hosts file
# It is generated by the Step6-install-LSF.yml playbook or mc_onprem role
#
# Cloud servers
{% for i in cloud_hosts %}
{% set hv = hostvars[i] %}
{{ i }} {{ hv.ansible_hostname }} {{ hv.ansible_hostname }}
{% endfor %}


# On-Prem LSF Master
{% for i in requested_interfaces %}
{% set j = i.replace("-", "_") %}
{% set iface = vars.__getitem__('ansible_' + j) %}
{% if iface.device != 'lo' %}
{% if iface.device != 'docker0' %}
{% if iface.active %}
{{ iface.ipv4.address }} {{ ansible_fqdn }} {{ ansible_hostname }}      # {{ iface.device }}
{% endif %}
{% endif %}
{% endif %}
{%- endfor %}
